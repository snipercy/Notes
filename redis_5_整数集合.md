# 整数集合(intset)

用于保存整数值的集合抽象数据结构，它可以保存类型为 int16_t, int32_t, int64_t 的整数值，并且保证集合中不会出现重复的元素，并按序排列。

intset.h/inset:
```c
typedef struct intset {
	// 编码方式
	uint32_t encoding;

	// 集合包含的元素数量
	uint32_t length;

	// 保存元素的数组
	int8_t contents[];
} intset;
```

## 升级

当元素都是int16_t时，每个元素只需占用16bit，若新插入的元素为int32_t或int64_t时则需要进行升级，即扩展contents空间大小，重新分配每个元素所占的bit数。

### 升级的好处

- 节约内存。当然，我们可以全部使用int64_t来保存每个整数，但是耗费了内存空间，所以采用这种升级机制可以有效的节约空间，只需在需要时对整数集合进行升级。

- 提升灵活性。可以随意得将int16_t, int32_t, int64_t类型的整数添加到集合中，而不必担心出现类型错误。